{"version":3,"sources":["react-from-scratch.js"],"names":[],"mappings":";;;;;;;;;;IAAM;;;yCACiB;;;wCACD;;;AACpB,qBAAY,SAAZ,EAAuB,KAAvB,EAA8B;;;AAC5B,SAAK,SAAL,GAAiB,SAAjB,CAD4B;AAE5B,SAAK,KAAL,GAAa,KAAb,CAF4B;AAG5B,SAAK,KAAL,GAAa,EAAb,CAH4B;AAI5B,SAAK,QAAL,GAAgB,IAAhB,CAJ4B;AAK5B,SAAK,kBAAL,GAL4B;AAM5B,SAAK,OAAL,GAN4B;AAO5B,SAAK,iBAAL,GAP4B;GAA9B;;;;6BASS,OAAO;AACd,UAAG,UAAU,KAAK,KAAL,EAAY;AACvB,eAAO,MAAP,CAAc,KAAK,KAAL,EAAY,KAA1B,EADuB;AAEvB,YAAG,KAAK,IAAL,EAAW,KAAK,OAAL,GAAd;OAFF;;;;8BAKQ;AACR,UAAI,OAAO,KAAK,MAAL,EAAP,CADI;AAER,UAAG,QAAQ,SAAS,KAAK,IAAL,EAAW;AAC7B,YAAG,KAAK,SAAL,EAAgB;AACjB,eAAK,SAAL,CAAe,SAAf,GAA2B,KAAK,SAAL,CAAe,SAAf,GAA2B,KAAK,SAAL,CAAe,SAAf,CAAyB,OAAzB,CAAiC,KAAK,IAAL,EAAW,IAA5C,CAA3B,GAA+E,IAA/E,CADV;SAAnB;AAGA,aAAK,IAAL,GAAY,IAAZ,CAJ6B;OAA/B;;;;yBAOG,WAAW,OAAO;;;AACrB,UAAG,CAAC,KAAK,QAAL,EAAe;AACjB,aAAK,QAAL,GAAgB,IAAI,SAAJ,CAAc,IAAd,EAAoB,KAApB,CAAhB,CADiB;AAEjB,mBAAW;iBAAM,MAAK,QAAL,CAAc,SAAd,GAA0B,SAAS,aAAT,CAAuB,UAAvB,CAA1B;SAAN,EAAoE,CAA/E,EAFiB;AAGjB,8BAAoB,KAAK,QAAL,CAAc,IAAd,gBAApB,CAHiB;OAAnB;;;;6BAMO;AAAE,aAAO,IAAP,CAAF;;;;;;;IAGL;;;;;;;;;;;yCACiB;AACnB,WAAK,QAAL,CAAc,EAAE,aAAa,CAAb,EAAhB,EADmB;;;;wCAGD;;;AAClB,kBAAY;eAAM,OAAK,QAAL,CAAc,EAAE,aAAa,OAAK,KAAL,CAAW,WAAX,GAAyB,CAAzB,EAA7B;OAAN,EAAkE,GAA9E,EADkB;;;;6BAGX;AACP,eAAS,WAAT,CAAqB,IAArB,EAA2B;AACzB,kCAAwB,qBAAgB,cAAxC,CADyB;OAA3B;AAGA,gEAGU,KAAK,KAAL,CAAW,KAAX,CAAiB,GAAjB,CAAqB,WAArB,EAAkC,IAAlC,CAAuC,EAAvC,2BACD,KAAK,KAAL,CAAW,WAAX,gBAAgC,KAAK,KAAL,CAAW,WAAX,GAAyB,CAAzB,GAA6B,GAA7B,GAAmC,EAAnC,gCAJzC,CAJO;;;;;EAPY;;IAqBjB;;;;;;;;;;;yCACiB;AACnB,WAAK,QAAL,CAAc,EAAE,OAAO,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,CAAP,EAAhB,EADmB;;;;6BAGZ;AACP,oEAGM,KAAK,IAAL,CAAU,QAAV,EAAoB,EAAE,OAAO,KAAK,KAAL,CAAW,KAAX,EAA7B,wBAHN,CADO;;;;;EAJQ;;AAcnB,IAAI,SAAS,SAAT,MAAS,CAAC,SAAD,EAAY,SAAZ,EAAuB,KAAvB;SAAiC,IAAI,SAAJ,CAAc,SAAd,EAAyB,KAAzB;CAAjC;;AAEb,OAAO,IAAP,EAAa,SAAS,aAAT,CAAuB,SAAvB,CAAb","file":"react-from-scratch-compiled.js","sourcesContent":["class Component {\n  componentWillMount() {}\n  componentDidMount() {}\n  constructor(mountNode, props) {\n    this.mountNode = mountNode;\n    this.props = props;\n    this.state = {};\n    this.todoNest = null;\n    this.componentWillMount();\n    this._render();\n    this.componentDidMount();\n  }\n  setState(state) {\n    if(state !== this.state) {\n      Object.assign(this.state, state);\n      if(this.vDOM) this._render();\n    }\n  }\n  _render() {\n    let vDOM = this.render();\n    if(vDOM && vDOM !== this.vDOM) {\n      if(this.mountNode) {\n        this.mountNode.innerHTML = this.mountNode.innerHTML ? this.mountNode.innerHTML.replace(this.vDOM, vDOM) : vDOM;\n      }\n      this.vDOM = vDOM;\n    }\n  }\n  nest(compClass, props) {\n    if(!this.todoNest) {\n      this.todoNest = new compClass(null, props);\n      setTimeout(() => this.todoNest.mountNode = document.querySelector('todolist'), 1);\n      return `<TodoList>${this.todoNest.vDOM}</TodoList>`;\n    }\n  }\n  render() { return null; }\n}\n\nclass TodoList extends Component {\n  componentWillMount() {\n    this.setState({ elapsedTime: 0 });\n  }\n  componentDidMount() {\n    setInterval(() => this.setState({ elapsedTime: this.state.elapsedTime + 1 }), 1e3);\n  }\n  render() {\n    function getListItem(item) {\n      return `<li data-key=\"${item}\">Item nÂ°${item}</li>`;\n    }\n    return (\n      `<div>\n        <h3>Todolist</h3>\n        <ul>${this.props.items.map(getListItem).join('')}</ul>\n        <p>${this.state.elapsedTime} second${this.state.elapsedTime > 1 ? 's' : ''} elapsed</p>\n      </div>`\n    );\n  }\n}\n\nclass Form extends Component {\n  componentWillMount() {\n    this.setState({ items: [0,1,2,3,4,5] });\n  }\n  render() {\n    return (\n      `<section>\n        <h1>Main section</h1>\n        ${this.nest(TodoList, { items: this.state.items })}\n      </section>`\n    );\n  }\n}\n\nvar render = (compClass, mountNode, props) => new compClass(mountNode, props);\n\nrender(Form, document.querySelector('#my-app'));"]}